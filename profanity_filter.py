"""
Модуль для фильтрации нецензурной лексики
"""

# Список нецензурных слов (на основе категории матерных выражений из Викисловаря)
# Этот список намеренно сокращен и упрощен
BAD_WORDS = {
    "бля", "блять", "ебать", "хуй", "пизда", "сука", "пидор", "пидр", "мудак", "долбоёб",
    "еблан", "дебил", "хер", "хрен", "залупа", "манда", "шлюха", "ебало", "жопа",
    "пиздец", "ебаный", "нахуй", "нахер", "похуй"
}

def contains_profanity(text: str) -> bool:
    """
    Проверяет содержит ли текст нецензурную лексику.

    Args:
        text: Проверяемый текст

    Returns:
        True если содержит нецензурную лексику, иначе False
    """
    if not text:
        return False

    # Приводим текст к нижнему регистру и разбиваем на слова
    words = text.lower().split()

    # Проверяем каждое слово на вхождение в список нецензурных слов
    for word in words:
        # Очищаем слово от знаков препинания для лучшего сравнения
        clean_word = ''.join(c for c in word if c.isalpha())
        if clean_word in BAD_WORDS:
            return True

    # Проверяем вхождение корней слов (для обхода склонений)
    for bad_word in BAD_WORDS:
        if bad_word in text.lower():
            return True

    return False